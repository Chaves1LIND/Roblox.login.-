!function(){"use strict";var a={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},d:function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},e=jQuery,c=a.n(e),D=Roblox,o=a.n(D);function n(e){var t=new(c().Deferred);return D.Hybrid.Game.launchGame(e,function(){t.resolve(e)}),t}var t,r,i={isJoinAttemptIdEnabled:!1,joinMultiplayerGame:function(e){var t=!0===e.isPlayTogetherGame,t={requestType:D.Hybrid.Game.LAUNCH_MODES.SIMPLE_GAME,placeId:e.placeId.toString(),isPlayTogetherGame:t,browserTrackerId:D.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)},followPlayerIntoGame:function(e){var t={requestType:D.Hybrid.Game.LAUNCH_MODES.FOLLOW_USER,userId:e.userId.toString(),browserTrackerId:D.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)},joinGameInstance:function(e){var t=!0===e.isPlayTogetherGame,t={requestType:D.Hybrid.Game.LAUNCH_MODES.GAME_INSTANCE,placeId:e.placeId.toString(),instanceId:e.gameId,isPlayTogetherGame:t,browserTrackerId:D.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)},joinPrivateGame:function(e){var t={requestType:D.Hybrid.Game.LAUNCH_MODES.PRIVATE_SERVER,placeId:e.placeId.toString(),accessCode:e.accessCode,browserTrackerId:D.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)},playTogetherGame:function(e){var t={requestType:D.Hybrid.Game.LAUNCH_MODES.SIMPLE_GAME,placeId:e.placeId.toString(),conversationId:e.conversationId.toString(),browserTrackerId:D.Cookies.getBrowserTrackerId()};return e.joinAttemptId&&(t.joinAttemptId=e.joinAttemptId),e.joinAttemptOrigin&&(t.joinAttemptOrigin=e.joinAttemptOrigin),n(t)}},l={modalClassName:"soli-modal",loginUrl:"/login?returnurl=",signupUrl:"/?returnurl=",eventContext:"gameDetails",loginField:"gameLaunch_login",signupField:"gameLaunch_signup"};c()(document).ready(function(){t=new D.TranslationResourceProvider,r=t.getTranslationResource("Feature.GameLaunchGuestMode")});var s={restrictGuests:function(e){var t=new(c().Deferred);return"True"===c()("#PlaceLauncherStatusPanel").data("is-user-logged-in")?t.resolve(e):D.Dialog.open({titleText:r.get("Heading.Dialog.SignUpOrLogin"),bodyContent:r.get("Description.Dialog.SignUpOrLogin"),cssClass:l.modalClassName,acceptColor:D.Dialog.green,acceptText:r.get("Action.Dialog.SignUp"),declineText:r.get("Action.Dialog.Login"),onDecline:function(){D.FormEvents&&D.FormEvents.SendInteractionClick(l.eventContext,l.loginField);var e=l.loginUrl+encodeURIComponent(window.location.origin+window.location.pathname+window.location.search);window.location.href=D.Endpoints?D.Endpoints.getAbsoluteUrl(e):e},onAccept:function(){var e;e=l.signupField,D.FormEvents&&D.FormEvents.SendInteractionClick("gameDetails",e),e=l.signupUrl+encodeURIComponent(window.location.origin+window.location.pathname+window.location.search),window.location.href=D.Endpoints?D.Endpoints.getAbsoluteUrl(e):e}}),t}},u=CoreUtilities,d={bars:[],init:function(e,t,n,a){var o=this.get(e);null==o&&(o={}),o.barID=e,o.innerBarID=t,o.percentageID=n,void 0===a&&(o.percentComplete=0),this.bars.push(o),this.update(e,o.percentComplete)},get:function(e){for(var t=0;t<this.bars.length;t+=1)if(this.bars[t].barID===e)return this.bars[t];return null},dispose:function(e){for(var t=0;t<this.bars.length;t+=1)this.bars[t].barID===e&&this.bars.splice(t,1)},update:function(e,t){var n=this.get(e);n&&(1<t&&(t=1),e=c()("#".concat(e)).width(),e=Math.round(e*t),c()("#".concat(n.innerBarID)).animate({width:e},200,"swing"),n.percentageID&&0<c()("#".concat(n.percentageID)).length&&c()("#".concat(n.percentageID)).html("".concat(Math.round(100*t),"%")),n.percentComplete=t)}},p={newValue:"",showVideoPreRoll:!1,videoInitialized:!1,videoStarted:!1,videoCompleted:!1,videoSkipped:!1,videoCancelled:!1,videoErrored:!1,loadingBarMaxTime:3e4,loadingBarCurrentTime:0,loadingBarIntervalID:0,loadingBarID:"videoPrerollLoadingBar",loadingBarInnerID:"videoPrerollLoadingBarCompleted",loadingBarPercentageID:"videoPrerollLoadingPercent",videoDiv:"videoPrerollMainDiv",companionAdDiv:"videoPrerollCompanionAd",contentElement:"contentElement",videoLoadingTimeout:7e3,videoPlayingTimeout:23e3,videoLogNote:"",logsEnabled:!1,includedPlaceIds:"",isSwfPreloaderEnabled:!1,isFlashInstalled:!1,isPrerollShownEveryXMinutesEnabled:!1,isAgeTargetingEnabled:!0,isAgeOrSegmentTargetingEnabled:!1,adUnit:"",adTime:0,placeId:0,customTargeting:{userAge:"",userAgeOrSegment:"",userGender:"",gameGenres:"",environment:"",adTime:"",PLVU:!1},adsManager:null,adsLoader:null,adDisplayContainer:null,intervalTimer:null,videoContent:null,isCompanionAdRenderedByGoogleTag:!1};function m(){p.adsLoader.contentComplete()}function v(){p.videoContent=document.getElementById(p.contentElement)}function g(){p.adDisplayContainer=new window.google.ima.AdDisplayContainer(document.getElementById(p.videoDiv),p.videoContent)}function h(){var e="&iu=".concat(p.adUnit),t="";p.isAgeTargetingEnabled&&(t+="&Age=".concat(p.customTargeting.userAge)),p.isAgeOrSegmentTargetingEnabled&&(t+="&A=".concat(p.customTargeting.userAgeOrSegment));t=encodeURIComponent("Env=".concat(p.customTargeting.environment,"&Gender=").concat(p.customTargeting.userGender).concat(t,"&Genres=").concat(p.customTargeting.gameGenres,"&PlaceID=").concat(p.placeId,"&Time=").concat(p.customTargeting.adTime,"&PLVU=").concat(p.customTargeting.PLVU));return"".concat("http://pubads.g.doubleclick.net/gampad/ads?impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]").concat("&sz=400x300").concat(e).concat("&ciu_szs=300x250","&cust_params=").concat(t,"&")}function f(){window.googletag.defineSlot(p.adUnit,[300,250],p.companionAdDiv).addService(window.googletag.companionAds()),window.googletag.enableServices(),window.googletag.display(p.companionAdDiv)}function b(e){switch(e.type){case window.google.ima.AdEvent.Type.LOADED:break;case window.google.ima.AdEvent.Type.STARTED:if(p.videoStarted=!0,p.isCompanionAdRenderedBywindow.googletag){if(!window.googletag)break;window.googletag.cmd.push(f)}else{var t=e.getAd().getCompanionAds(300,250);0<t.length&&(t=t[0].getContent(),document.getElementById(p.companionAdDiv).innerHTML=t)}break;case window.google.ima.AdEvent.Type.SKIPPED:p.videoCompleted=!0,p.videoSkipped=!0,p.showVideoPreRoll=!1;break;case window.google.ima.AdEvent.Type.COMPLETE:p.videoStarted&&!1===p.videoCancelled&&(p.videoCompleted=!0,p.showVideoPreRoll=!1,""!==p.newValue&&c().cookie("RBXVPR",p.newValue,180))}}function y(){p.videoErrored=!0,p.videoCompleted=!0,p.videoLogNote="AdError"}function I(e){p.adsManager=e.getAdsManager(p.videoContent),p.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,y),p.adsManager.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,b),p.adsManager.addEventListener(window.google.ima.AdEvent.Type.LOADED,b),p.adsManager.addEventListener(window.google.ima.AdEvent.Type.STARTED,b),p.adsManager.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,b),p.adsManager.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,b);try{p.adsManager.init(400,300,window.google.ima.ViewMode.NORMAL),p.adsManager.start()}catch(e){y()}}function w(){window.google.ima.settings.setVpaidAllowed(!0),v(),g(),p.adDisplayContainer.initialize(),p.adsLoader=new window.google.ima.AdsLoader(p.adDisplayContainer),p.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,I,!1),p.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,y,!1),p.videoContent.addEventListener("ended",m);var e=new window.google.ima.AdsRequest,t=h();e.adTagUrl=t,e.linearAdSlotWidth=400,e.linearAdSlotHeight=300,e.nonLinearAdSlotWidth=400,e.nonLinearAdSlotHeight=300,p.adsLoader.requestAds(e)}function P(){var t=!1;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=!0)}return t}function E(){if(p.logsEnabled){var e="";if(p.videoCompleted)e="Complete",""===p.videoLogNote&&(p.videoLogNote="NoTimeout"),p.logsEnabled=!1;else if(p.videoCancelled)e="Cancelled",p.videoLogNote=window.RobloxLaunch.state;else{if(!1!==p.videoInitialized||""===p.videoLogNote)return;e="Failed",p.logsEnabled=!1}D.GaEventSettings.gaDFPPreRollEnabled&&window.GoogleAnalyticsEvents&&window.GoogleAnalyticsEvents.FireEvent(["DFPPreRoll",e,p.videoLogNote])}}function C(){return!!p.videoInitialized&&(p.videoInitialized&&!p.videoStarted&&p.loadingBarCurrentTime>p.videoLoadingTimeout&&(p.videoCompleted=!0,p.videoLogNote="LoadingTimeout"),p.videoStarted&&!p.videoCompleted&&p.loadingBarCurrentTime>p.videoPlayingTimeout&&(p.videoCompleted=!0,p.videoLogNote="PlayingTimeout"),!p.videoCompleted)}function S(){var e=encodeURIComponent(h()),e="adTagUrl=".concat(e);c().ajax({url:"/game/preloader",data:{url:e},method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}}).success(function(e){c()("#videoPrerollMainDiv").html(e),p.videoErrored||(p.videoStarted=!0)})}function A(){c().ajax({url:"/game/updateprerollcount",method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}})}Object.assign(p,{contentEndedListener:m,createVideoContent:v,createAdDisplayContainer:g,constructUrl:h,renderCompanionAd:f,onAdEvent:b,onAdError:y,onAdsManagerLoaded:I,requestAds:w,checkFlashEnabled:P,checkEligibility:function(){p.showVideoPreRoll&&(P()&&(p.isFlashInstalled=!0),"True"===c()("#PlaceLauncherStatusPanel").data("is-protocol-handler-launch-enabled")||D.Client.IsRobloxInstalled()?void 0===window.google||void 0===window.google.ima?(p.videoLogNote="NoGoogle",p.showVideoPreRoll=!1):D.Client.isIDE()?(p.videoLogNote="RobloxStudio",p.showVideoPreRoll=!1):D.Client.isRobloxBrowser()?(p.videoLogNote="RobloxPlayer",p.showVideoPreRoll=!1):(window.chrome||window.safari)&&"#chromeInstall"===window.location.hash&&(p.showVideoPreRoll=!1):p.showVideoPreRoll=!1)},logVideoPreRoll:E,isPlaying:C,correctIEModalPosition:function(e){var t,n;e.container.innerHeight()<=30&&(t=c()("#videoPrerollPanel"),n=-Math.floor(t.innerHeight()/2),t.css({position:"relative",top:"".concat(n,"px")}),e.container.find(".VprCloseButton").css({top:"".concat(n-10,"px"),"z-index":"1003"}))},renderImaPreloader:S,updatePrerollCount:A,start:function(){0===p.placeId&&"undefined"!=typeof play_placeId&&(p.placeId=play_placeId),p.videoInitialized=!0,p.videoStarted=!1,p.videoCancelled=!1,p.videoCompleted=!1,p.videoSkipped=!1,p.loadingBarCurrentTime=0,p.videoLogNote="",d.init(p.loadingBarID,p.loadingBarInnerID,p.loadingBarPercentageID),p.loadingBarIntervalID=setInterval(function(){p.loadingBarCurrentTime+=1e3,d.update(p.loadingBarID,p.loadingBarCurrentTime/p.loadingBarMaxTime)},1e3),(p.isSwfPreloaderEnabled&&p.isFlashInstalled?S:w)()},cancel:function(){p.videoCancelled=!0,c().modal.close()},skip:function(){p.videoCompleted=!0,p.videoSkipped=!0,p.showVideoPreRoll=!1},close:function(){window.MadStatus&&window.MadStatus.running&&window.MadStatus.stop(""),window.RobloxLaunch.launcher&&(window.RobloxLaunch.launcher._cancelled=!0),clearInterval(p.loadingBarIntervalID),d.dispose(p.loadingBarID),C()&&(p.videoCancelled=!0),c().modal.close(),E(),p.isPrerollShownEveryXMinutesEnabled&&p.videoInitialized&&p.videoCompleted&&A()}});var L=p,T={waitForPreroll:function(e){var t,n,a=new(c().Deferred),o=L;return o.placeId=void 0!==e.placeId?e.placeId:0,o.showVideoPreRoll?(t={escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},zIndex:1031,onShow:function(e){o.correctIEModalPosition(e),o.start(),c()("#prerollClose").hide(),c()("#prerollClose").delay(1e3*o.adTime).show(300)},onClose:function(){o.close()},closeHTML:'<a href="#" id="prerollClose" class="ImageButton closeBtnCircle_35h ABCloseCircle VprCloseButton"></a>'},c()("#videoPrerollPanel").modal(t),n=setInterval(function(){o.isPlaying()||(c().modal.close(),clearInterval(n),o.videoCancelled?a.reject(e):a.resolve(e))},200)):(a.resolve(e),o.logVideoPreRoll()),a}};function x(e,t,n,a,o,r,i){try{var l=e[r](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function G(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function O(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?G(Object(o),!0).forEach(function(e){var t,n;t=a,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):G(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}var U,R={gameLaunchInterface:null,gameLaunchLogger:null,initialized:new Promise(function(e,t){U=e})};function k(e,t,n){t=O(O({},e),{},{joinAttemptId:null!=t?t:u.uuidService.generateRandomUuid()});return n&&(t.joinAttemptOrigin=n),t}function j(e,t,n){var a,o;3<arguments.length&&void 0!==arguments[3]&&arguments[3]&&(4<arguments.length&&void 0!==arguments[4]&&arguments[4])&&(a=e,o={url:"".concat(D.EnvironmentUrls.gameJoinApi,"/v1/team-create-preemptive"),withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}},a={gameJoinAttemptId:u.uuidService.generateRandomUuid(),placeId:a},u.httpService.post(o,a)),R.gameLaunchInterface.editGameInStudio(e,t,n)}function V(e){var t=3<arguments.length?arguments[3]:void 0,n=4<arguments.length?arguments[4]:void 0,e={placeId:e,isPlayTogetherGame:!0===(2<arguments.length?arguments[2]:void 0)};return R.gameLaunchInterface.isJoinAttemptIdEnabled&&(e=k(e,t,n)),s.restrictGuests(e).then(T.waitForPreroll).then(R.gameLaunchInterface.joinMultiplayerGame)}function B(){var l;return l=regeneratorRuntime.mark(function e(t,n,a,o,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.initialized;case 2:return i={placeId:t,accessCode:n,linkCode:a},R.gameLaunchInterface.isJoinAttemptIdEnabled&&(i=k(i,o,r)),i=T.waitForPreroll(i).then(R.gameLaunchInterface.joinPrivateGame),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}),(B=function(){var e=this,i=arguments;return new Promise(function(t,n){var a=l.apply(e,i);function o(e){x(a,t,n,o,r,"next",e)}function r(e){x(a,t,n,o,r,"throw",e)}o(void 0)})}).apply(this,arguments)}c().fn.bindGameLaunch=function(){return this.find(".VisitButtonPlayGLI").click(function(){var e=c()(this);V(e.attr("placeid"),e.data("is-membership-level-ok"))}),this.find(".VisitButtonEditGLI").click(function(){var e=c()(this);j(e.attr("placeid"),e.data("universeid"),!!e.data("allowupload"))}),this},c()(document).ready(function(){c()("body").bindGameLaunch()}),Object.assign(R,{authenticationChecker:s,prerollPlayer:T,joinMultiplayerGame:V,openStudio:function(){R.gameLaunchInterface.openStudio()},openPluginInStudio:function(e){R.gameLaunchInterface.openPluginInStudio(e)},editGameInStudio:j,followPlayerIntoGame:function(e,t,n){return e={userId:e},R.gameLaunchInterface.isJoinAttemptIdEnabled&&(e=k(e,t,n)),s.restrictGuests(e).then(T.waitForPreroll).then(R.gameLaunchInterface.followPlayerIntoGame)},joinGameInstance:function(e,t,n,a,o,r,i){return i={placeId:e,gameId:t,isPlayTogetherGame:!0===a,referredByPlayerId:i},R.gameLaunchInterface.isJoinAttemptIdEnabled&&(i=k(i,o,r)),s.restrictGuests(i).then(T.waitForPreroll).then(R.gameLaunchInterface.joinGameInstance)},joinPrivateGame:function(e,t,n,a,o){return B.apply(this,arguments)},playTogetherGame:function(e,t,n,a){return t={placeId:e,conversationId:t},R.gameLaunchInterface.isJoinAttemptIdEnabled&&(t=k(t,n,a)),s.restrictGuests(t).then(T.waitForPreroll).then(R.gameLaunchInterface.playTogetherGame)},setGameLaunchInterface:function(e){R.gameLaunchInterface=e,U()},setGameLaunchLogger:function(e){R.gameLaunchLogger=e},tryAssetInStudio:function(e){R.gameLaunchInterface.tryAssetInStudio(e)},isJoinAttemptIdEnabled:function(){var e;return null===(e=R.gameLaunchInterface)||void 0===e?void 0:e.isJoinAttemptIdEnabled},startClientAttemptedEvent:"startClientAttempted",startClientFailedEvent:"startClientFailed",startClientSucceededEvent:"startClientSucceeded",beginInstallEvent:"beginInstall",successfulInstallEvent:"successfulInstall",manualDownloadEvent:"manualDownload"});var N=R,M={lastContext:"unknown",contextCategories:{joinUser:"JoinUser"}};function F(e,t,n){var a,o=c()("#PlaceLauncherStatusPanel");return{lType:o&&o.data("is-protocol-handler-launch-enabled")&&"true"===o.data("is-protocol-handler-launch-enabled").toLowerCase()?"protocol":"plugin",pid:e,refuid:t,pg:(a=window.location.pathname.toLowerCase(),e="profile",-1!==(t=a.lastIndexOf(e))&&a.length===t+e.length?e:0===a.indexOf("/develop")?"develop":0===a.indexOf("/discover")?"games":"gameDetail"),joinAttemptId:"True"===(null!==(o=o.data("is-join-attempt-id-enabled"))&&void 0!==o?o:"False")?n:void 0}}function _(e,t,n,a,o){null!==t&&""!==t&&"unknown"!==t&&(M.lastContext=t),D.EventStream.SendEvent(e,M.lastContext,F(n,a,o))}Object.assign(M,{SendGamePlayIntent:function(e,t,n,a){_("gamePlayIntent",e,t,n,a),c()(document).trigger("playButton:gamePlayIntent")},SendDevelopIntent:function(e,t){_("developIntent",e,t)},SendInstallBegin:function(e,t){_("installBegin",e,t)},SendInstallSuccess:function(e,t){_("installSuccess",e,t)},SendClientStartAttempt:function(e,t){_("clientStartAttempt",e,t)},SendClientStartSuccessWeb:function(e,t){_("clientStartSuccessWeb",e,t)},SendManualDownloadClick:function(e,t){_("manualDownload",e,t)}});var H=M,q={logToConsoleEnabled:!1,logToGAEnabled:!0,logToEphemeralCountersEnabled:!0},W={};W[N.startClientAttemptedEvent]=["GameLaunchAttempt_<os>","GameLaunchAttempt_<os>_<launchmethod>"],W[N.startClientSucceededEvent]=["GameLaunchSuccessWeb_<os>","GameLaunchSuccessWeb_<os>_<launchmethod>"];var J={};D.GaEventSettings.gaLaunchAttemptAndLaunchSuccessEnabled&&(J[N.startClientAttemptedEvent]="Launch Attempt",J[N.startClientSucceededEvent]="Launch Success"),J[N.beginInstallEvent]="Install Begin",J[N.successfulInstallEvent]="Install Success",J[N.manualDownloadEvent]="Manual Download";var z={};function X(e){q.logToConsoleEnabled&&console.log(e)}function K(e,t){var n;q.logToEphemeralCountersEnabled&&("Windows"===(n=c()("#PlaceLauncherStatusPanel").data("os-name"))&&(n="Win32"),e=(e=e.replace("<os>",n)).replace("<launchmethod>",t),null!==(t=window.EventTracker)&&void 0!==t&&t.fireEvent&&window.EventTracker.fireEvent(e))}function Y(e,t,n,a){void 0!==window.GoogleAnalyticsEvents&&q.logToGAEnabled&&window.GoogleAnalyticsEvents.FireEvent&&window.GoogleAnalyticsEvents.FireEvent([e,t,n,a])}function Q(e,n){X("".concat(e.type,": ").concat(JSON.stringify(n))),W[e.type]&&c().each(W[e.type],function(e,t){K(t,n.launchMethod)}),J[e.type]&&Y(n.launchMethod,J[e.type],n.params.launchMode,0),"True"===c()("#PlaceLauncherStatusPanel").data("event-stream-for-protocol-enabled")&&z[e.type]&&z[e.type](null,n.params.placeId)}z[N.startClientAttemptedEvent]=H.SendClientStartAttempt,z[N.startClientSucceededEvent]=H.SendClientStartSuccessWeb,z[N.beginInstallEvent]=H.SendInstallBegin,z[N.successfulInstallEvent]=H.SendInstallSuccess,z[N.manualDownloadEvent]=H.SendManualDownloadClick,Object.assign(q,{logToConsole:X,logToEphemeralCounters:K,logToGA:Y}),c()(document).ready(function(){var e=[N.startClientAttemptedEvent,N.startClientFailedEvent,N.startClientSucceededEvent,N.beginInstallEvent,N.successfulInstallEvent,N.manualDownloadEvent];c()(N).on(e.join(" "),Q)});var Z=q,$=function(){var e="click";c()("body").on(e,".VisitButtonPlay, .VisitButtonPlayGLI",function(){var e,t,n=c()(this);(n.hasClass("VisitButtonPlay")||n.hasClass("VisitButtonPlayGLI"))&&(e="PlayButton"),e&&(t=c()(this).attr("placeid"),n=D.UrlParser?D.UrlParser.getParameterValueByName("rbxp"):null,H.SendGamePlayIntent(e,t,n))}),c()("body").on(e,".VisitButtonEdit, .VisitButtonEditGLI",function(){var e=c()(this).attr("placeid");H.SendDevelopIntent("Edit",e)}),c()("#rbx-running-games").on(e,".rbx-game-server-item .rbx-game-server-join",function(){var e=c()(this).data("placeid");e&&H.SendGamePlayIntent("JoinInstance",e)}),c()("#rbx-friends-running-games").on(e,".rbx-friends-game-server-item .rbx-friends-game-server-join",function(){var e=c()(this).data("placeid");e&&H.SendGamePlayIntent("JoinInstance",e)}),c()("#game-instances").on(e,"#rbx-vip-servers .rbx-vip-server-item .rbx-vip-server-join",function(){var e=c()(this).data("placeid");e&&H.SendGamePlayIntent("PrivateServer",e)}),c()("#build-page").on(e,".roblox-edit-button",function(){var e=c()(this).parents("table.item-table"),e=e.data("rootplace-id")||e.data("item-id");e&&H.SendDevelopIntent("Edit",e)})};function ee(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function te(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(o),!0).forEach(function(e){var t,n;t=a,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ee(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}var ne={isInstalling:!1,statusInterval:0,robloxLocale:"",gameLocale:"",protocolUrlSeparator:"+",protocolUrlIncludesLaunchTime:!1,protocolDetectionEnabled:!1,avatarParamEnabled:!0,separateScriptParamsEnabled:!1,waitTimeBeforeFailure:300,protocolNameForStudio:"roblox-studio",protocolNameForClient:"roblox-client",logger:null,channel:"",studioChannel:"",playerChannel:"",isDuarAutoOptInEnabled:!1,isDuarOptOutDisabled:!1,isJoinAttemptIdEnabled:!1},ae={Global:"Global"},oe={edit:"edit",plugin:"plugin",play:"play",build:"build",app:"app",asset:"asset"};function re(e){return e===oe.edit||e===oe.plugin||e===oe.asset}function ie(e,t){function n(){clearTimeout(l),e()}var a,o,r,i,l=setTimeout(function(){c().modal.close(),function(e,t){var n="True"===D.PlaceLauncher.Resources.RefactorEnabled,a=re(t.launchMode);if(n){a=a?D.PlaceLauncher.Resources.ProtocolHandlerAreYouInstalled.studio:D.PlaceLauncher.Resources.ProtocolHandlerAreYouInstalled.play;return D.Dialog.open({bodyContent:a.content,allowHtmlContentInBody:!0,showAccept:!0,acceptColor:D.Dialog.green,acceptText:a.buttonText,showDecline:!1,dismissable:!1,xToCancel:!0,footerText:a.footerContent,allowHtmlContentInFooter:!0,onAccept:function(){we(t)},cssClass:"protocolhandler-are-you-installed-modal"})}c()("#ProtocolHandlerAreYouInstalled").modal({escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:function(){e(),c()("#ProtocolHandlerInstallButton").off("click"),c().modal.close()},zIndex:1031}),c()("#ProtocolHandlerInstallButton, #ProtocolHandlerStudioInstallButton").click(function(){we(t)})}(n,t)},5e3);a=n,o=t.launchMode,r="True"===D.PlaceLauncher.Resources.RefactorEnabled,i=re(o),r?(o=(i?D.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.studio:D.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.play).content,r=D.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.loader,D.Dialog.open({bodyContent:o+r,allowHtmlContentInBody:!0,showAccept:!1,showDecline:!1,dismissable:!1,cssClass:"protocolhandler-starting-modal",onCloseCallback:a,onCancel:function(){a(),c().modal.close()}})):(i?c()(".protocol-handler-container").each(function(){c()(this).find(".play-modal").addClass("hidden"),c()(this).find(".studio-modal").removeClass("hidden")}):c()(".protocol-handler-container").each(function(){c()(this).find(".play-modal").removeClass("hidden"),c()(this).find(".studio-modal").addClass("hidden")}),c()("#ProtocolHandlerStartingDialog").modal({escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:function(){a(),c().modal.close()},zIndex:1031}))}function le(){c().modal.close();var e=new D.TranslationResourceProvider,t=e.getTranslationResource("Common.VisitGame"),e=e.getTranslationResource("CommonUI.Controls");D.Dialog.open({titleText:t.get("Heading.ErrorStartingGame"),bodyContent:t.get("Response.Dialog.ErrorLaunching"),acceptText:e.get("Action.OK")||"OK",showDecline:!1})}function ce(t){var n=new(c().Deferred);return clearInterval(ne.statusInterval),ne.statusInterval=setInterval(function(){var e=D.Endpoints.getAbsoluteUrl("/client-status");c().ajax(e,{success:function(e){"Unknown"!==e&&(n.resolve(t),clearInterval(ne.statusInterval))},cache:!1})},3e3),n}function se(e){c().modal.close();e={launchMethod:"Protocol",params:e};c()(N).trigger(N.startClientSucceededEvent,e),ne.isInstalling&&(c()(N).trigger(N.successfulInstallEvent,e),ne.isInstalling=!1)}function ue(e){return!1}function de(e){var a=new(c().Deferred),t=re(e.launchMode),o=te({},e);return!D.CurrentUser.isAuthenticated||t?(a.resolve(o),a):ne.getClientAssertionEnabled().then(function(e){return e?ne.doClientAssertionRequest().then(function(e){return n(e.clientAssertion)},function(){return n()}):n()},function(){return n()});function n(e){return ne.doAuthTicketRequest(e).then(function(e,t,n){n=n.getResponseHeader("RBX-Authentication-Ticket");return n&&0<n.length?(o.gameInfo=n,a.resolve(o)):a.reject(),a})}}function pe(e){var t;ne.protocolDetectionEnabled&&void 0!==navigator.msLaunchUri?navigator.msLaunchUri(e,function(){},function(){}):(0<(t=c()("iframe#gamelaunch")).length&&t.remove(),t=c()("<iframe id='gamelaunch' class='hidden'></iframe>").attr("src",e),c()("body").append(t),t=new Event("ProtocolLaunchStartSelenium"),window.dispatchEvent(t))}function me(e){var t,n=new(c().Deferred),a=re(e.launchMode),o=ne.protocolUrlSeparator,r="".concat(e.protocolName,":"),i=[];return i.push(1),i.push("launchmode:".concat(e.launchMode)),!e.gameInfo||e.protocolName===ne.protocolNameForStudio&&0===e.gameInfo.indexOf("Guest:")||i.push("gameinfo:".concat(encodeURIComponent(e.gameInfo))),ne.protocolUrlIncludesLaunchTime&&i.push("launchtime:".concat(e.launchTime)),"True"===D.PlaceLauncher.Resources.IsProtocolHandlerBaseUrlParamEnabled&&(t=D.EnvironmentUrls.websiteUrl||"https://".concat(window.location.host),i.push("baseUrl:".concat(encodeURIComponent(t)))),a&&D.CurrentUser.isAuthenticated&&(i.push("distributorType:".concat(ae.Global)),i.push("userId:".concat(D.CurrentUser.userId))),a&&i.push("browser:".concat((0,u.getCurrentBrowser)())),c().each(e.otherParams,function(e,t){e===t?i.push(e):i.push("".concat(e,":").concat(encodeURIComponent(t)))}),r+=i.join(o),N.gameLaunchLogger&&N.gameLaunchLogger.logToConsole("launchProtocolUrl: ".concat(JSON.stringify({url:r,params:e}))),pe(r),n.resolve(e),n}function ve(e){return c().when(de(e),(e=D.Endpoints.getAbsoluteUrl("/client-status/set?status=Unknown"),c().ajax({method:"POST",url:e}))).then(me,le).then(ce).then(se,ue)}function ge(e){return c()(this).hasClass("disabled")||(ve(e.data),void 0===(e=c()("#ProtocolHandlerClickAlwaysAllowed")).data("hideRememberOverlay")&&e.show()),!1}function he(e){e=te({},e);return e.launchTime=(new Date).getTime(),e.otherParams.browsertrackerid=D.Cookies.getBrowserTrackerId(),e.otherParams.robloxLocale=ne.robloxLocale,e.otherParams.gameLocale=ne.gameLocale,e.otherParams.channel=ne.channel,e.protocolName===ne.protocolNameForStudio?e.otherParams.channel=ne.studioChannel:e.otherParams.channel=ne.playerChannel,ne.isDuarAutoOptInEnabled&&e.protocolName===ne.protocolNameForClient&&!e.otherParams.LaunchExp&&(ne.isDuarOptOutDisabled?e.otherParams.LaunchExp="InApp":e.otherParams.LaunchExp="PreferInApp"),c()(N).trigger(N.startClientAttemptedEvent,{launchMethod:"Protocol",params:e}),ie(function(){},e),ve(e)}function fe(e,t){var n=" ";D.Endpoints&&D.Endpoints.Urls&&(n="".concat(D.Endpoints.getAbsoluteUrl("/Game/PlaceLauncher.ashx"),"?")),"h"!==n[0]&&(n="http://".concat(window.location.host)+"/Game/PlaceLauncher.ashx?"),n=n.replace("placelauncher","PlaceLauncher");e={request:e,browserTrackerId:D.Cookies.getBrowserTrackerId()};return c().extend(e,t),n+c().param(e)}function be(e,t,n){return a="Edit.ashx",o=e,e=t,t=n,n=" ",D.Endpoints&&D.Endpoints.Urls&&(n="".concat(D.Endpoints.getAbsoluteUrl("/Game/".concat(a)),"?")),"h"!==n[0]&&(n="http://".concat(window.location.host)+"/Game/".concat(a,"?")),e={placeId:o,upload:t?o:"",universeId:e,testMode:!1},n+c().param(e);var a,o}function ye(){document.getElementById("downloadInstallerIFrame").src="/download/client"}function Ie(e,t){var n=te({},e),e=n.gameInfo;void 0!==n.gameInfo&&(n.gameInfo=void 0),c()(N).trigger(N.beginInstallEvent,{launchMethod:"Protocol",params:n}),ne.isInstalling=!0,n.url=window.location.href,void 0!==e&&(n.gameInfo=e),t?document.getElementById("downloadInstallerIFrame").src="/download/studio":ye()}function we(e){var t=re(e.launchMode);c().modal.close(),t||(D.Dialog.open({titleText:c()("#InstallationInstructions .ph-modal-header .title").text(),allowHtmlContentInBody:!0,bodyContent:c()("#InstallationInstructions .modal-content-container").html(),allowHtmlContentInFooter:!0,footerText:c()("#InstallationInstructions .xsmall").html(),acceptColor:D.Dialog.none,declineColor:D.Dialog.none,cssClass:"install-instructions-modal",xToCancel:!0,onCloseCallback:function(){c()("#ProtocolHandlerClickAlwaysAllowed").hide()}}),0===c()("#GameLaunchInstructionsLinkScript").length&&ne.attachManualDownloadToLink(),setTimeout(function(){c()(".VisitButtonContinueGLI a").removeClass("disabled").click(e,ge)},5e3)),Ie(e,t)}function Pe(){c()(N).trigger(N.manualDownloadEvent,{launchMethod:"Protocol",params:{}}),ye()}Object.assign(ne,{joinMultiplayerGame:function(e){var t=ne.protocolNameForClient,n=fe("RequestGame",e),a=!0===e.isPlayTogetherGame;return he({protocolName:t,launchMode:"play",otherParams:{placelauncherurl:n},placeId:e.placeId,isPlayTogetherGame:a})},openStudio:function(){var e={};return ne.avatarParamEnabled&&(e.avatar="avatar"),he({protocolName:ne.protocolNameForStudio,launchMode:"edit",otherParams:e})},tryAssetInStudio:function(e){return e={assetid:e},ne.avatarParamEnabled&&(e.avatar="avatar"),he({protocolName:ne.protocolNameForStudio,launchMode:"asset",otherParams:e})},openPluginInStudio:function(e){e={pluginid:e},ne.avatarParamEnabled&&(e.avatar="avatar"),he({protocolName:ne.protocolNameForStudio,launchMode:"plugin",otherParams:e})},editGameInStudio:function(e,t,n){n=ne.separateScriptParamsEnabled?{task:"EditPlace",placeId:e,universeId:t}:{script:be(e,t,n)},ne.avatarParamEnabled&&(n.avatar="avatar"),he({protocolName:ne.protocolNameForStudio,launchMode:"edit",otherParams:n,placeId:e})},followPlayerIntoGame:function(e){return he({protocolName:ne.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:fe("RequestFollowUser",e)}})},joinGameInstance:function(e){var t=ne.protocolNameForClient,n=fe("RequestGameJob",e),a=!0===e.isPlayTogetherGame;return he({protocolName:t,launchMode:"play",otherParams:{placelauncherurl:n},placeId:e.placeId,isPlayTogetherGame:a})},joinPrivateGame:function(e){return he({protocolName:ne.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:fe("RequestPrivateGame",e)},placeId:e.placeId})},playTogetherGame:function(e){return he({protocolName:ne.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:fe("RequestPlayTogetherGame",e)},placeId:e.placeId,conversationId:e.conversationId})},manualDownload:Pe,attachManualDownloadToLink:function(){c()("body #GameLaunchManualInstallLink").click(function(){return Pe(),!1})},startDownload:ye,setLocationHref:pe,doAuthTicketRequest:function(e){var t="".concat(D.EnvironmentUrls.authApi,"/v1/authentication-ticket/");return c().ajax({method:"POST",url:t,data:JSON.stringify({clientAssertion:e}),contentType:"application/json"})},doClientAssertionRequest:function(){var e="".concat(D.EnvironmentUrls.authApi,"/v1/client-assertion/");return c().ajax({method:"GET",url:e,contentType:"application/json",timeout:1e4})},getClientAssertionEnabled:function(){var e="".concat(D.EnvironmentUrls.apiGatewayUrl,"/universal-app-configuration/v1/behaviors/auth-ticket-client-assertion/content");return c().ajax({method:"GET",url:e,contentType:"application/json",timeout:1e4}).then(function(e){return Boolean(e&&"true"===e.isClientAssertionEnabled)},function(){return!1})},openDesktopUniversalApp:function(){var e={},t=ne.protocolNameForClient;return e.protocolName=t,e.launchTime=(new Date).getTime(),e.launchMode=oe.app,e.otherParams={},e.otherParams.browsertrackerid=D.Cookies.getBrowserTrackerId(),e.otherParams.robloxLocale=ne.robloxLocale,e.otherParams.gameLocale=ne.gameLocale,e.otherParams.LaunchExp="InApp",c()(N).trigger(N.startClientAttemptedEvent,{launchMethod:"Protocol",params:e}),ie(function(){},e),ve(e)},showDialog:ie,showLaunchFailureDialog:le,cleanUpAndLogSuccess:se,cleanUpAndLogFailure:ue,startGameWithDeepLinkUrl:function(e,t){ie(function(){},{launchMode:"play",protocolName:ne.protocolNameForClient,placeId:t}),pe(e),setTimeout(function(){c().modal.close()},6e4)}}),c()(document).ready(function(){N.setGameLaunchInterface(ne);var e=c()("#PlaceLauncherStatusPanel");ne.protocolNameForClient=e.data("protocol-name-for-client"),ne.protocolNameForStudio=e.data("protocol-name-for-studio"),ne.protocolUrlIncludesLaunchTime=e.data("protocol-url-includes-launchtime"),ne.protocolDetectionEnabled=e.data("protocol-detection-enabled"),ne.separateScriptParamsEnabled=e.data("protocol-separate-script-parameters-enabled"),ne.avatarParamEnabled=e.data("protocol-avatar-parameter-enabled"),ne.isJoinAttemptIdEnabled="True"===(null!==(t=e.data("is-join-attempt-id-enabled"))&&void 0!==t?t:"False"),ne.robloxLocale=e.data("protocol-roblox-locale"),ne.gameLocale=e.data("protocol-game-locale");var t=e.data("protocol-channel-name");"string"==typeof t&&"LIVE"!==t.toUpperCase()&&(ne.channel=t);t=e.data("protocol-studio-channel-name");"string"==typeof t&&"LIVE"!==t.toUpperCase()&&(ne.studioChannel=t);t=e.data("protocol-player-channel-name");"string"==typeof t&&"LIVE"!==t.toUpperCase()&&(ne.playerChannel=t),ne.logger||void 0===window.Roblox.ProtocolHandlerLogger||(ne.logger=window.Roblox.ProtocolHandlerLogger),ne.isDuarAutoOptInEnabled=e.data("is-duar-auto-opt-in-enabled"),ne.isDuarOptOutDisabled=e.data("is-duar-opt-out-disabled")});var Ee=ne,Ce=React,Se=a.n(Ce),Ae=CoreRobloxUtilities,Le=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},Te=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},xe=Ae.dataStores.gamesDataStore,De=function(n){return Le(void 0,void 0,Promise,function(){var t;return Te(this,function(e){switch(e.label){case 0:return[4,xe.getProductInfo(n)];case 1:return t=e.sent().data.data,[2,(void 0===t?[]:t)[0]]}})})},Ge=function(n){return Le(void 0,void 0,Promise,function(){var t;return Te(this,function(e){switch(e.label){case 0:return[4,xe.getPlaceDetails(n)];case 1:return t=e.sent().data,[2,(void 0===t?[]:t)[0]]}})})},Oe=function(n){return Le(void 0,void 0,Promise,function(){var t;return Te(this,function(e){switch(e.label){case 0:return[4,xe.getPlayabilityStatus(n)];case 1:return t=e.sent().data,[2,(void 0===t?[]:t)[0]]}})})},Ue=function(n){return Le(void 0,void 0,Promise,function(){var t;return Te(this,function(e){switch(e.label){case 0:return t={withCredentials:!0,url:D.EnvironmentUrls.voiceApi+"/v1/settings/verify/show-age-verification-overlay/"+n},[4,u.httpService.get(t)];case 1:return[2,e.sent().data]}})})},Re=function(){return Le(void 0,void 0,Promise,function(){var t;return Te(this,function(e){switch(e.label){case 0:return t={withCredentials:!0,url:D.EnvironmentUrls.apiGatewayUrl+"/universal-app-configuration/v1/behaviors/play-button-ui/content"},[4,u.httpService.get(t)];case 1:return[2,e.sent().data]}})})},ke=function(){return(ke=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},je={UnplayableOtherReason:"UnplayableOtherReason",Playable:"Playable",GuestProhibited:"GuestProhibited",GameUnapproved:"GameUnapproved",IncorrectConfiguration:"IncorrectConfiguration",UniverseRootPlaceIsPrivate:"UniverseRootPlaceIsPrivate",InsufficientPermissionFriendsOnly:"InsufficientPermissionFriendsOnly",InsufficientPermissionGroupOnly:"InsufficientPermissionGroupOnly",DeviceRestricted:"DeviceRestricted",UnderReview:"UnderReview",PurchaseRequired:"PurchaseRequired",AccountRestricted:"AccountRestricted",TemporarilyUnavailable:"TemporarilyUnavailable",ComplianceBlocked:"ComplianceBlocked",ContextualPlayabilityRegionalAvailability:"ContextualPlayabilityRegionalAvailability",ContextualPlayabilityRegionalCompliance:"ContextualPlayabilityRegionalCompliance",ContextualPlayabilityAgeRecommendationParentalControls:"ContextualPlayabilityAgeRecommendationParentalControls",ContextualPlayabilityAgeGated:"ContextualPlayabilityAgeGated",PlaceHasNoPublishedVersion:"PlaceHasNoPublishedVersion",ContextualPlayabilityUnverifiedSeventeenPlusUser:"ContextualPlayabilityUnverifiedSeventeenPlusUser"},Ve={playButtonStatusTranslationMap:((rt={})[je.UnplayableOtherReason]="Response.GameTemporarilyUnavailable",rt[je.TemporarilyUnavailable]="Response.GameTemporarilyUnavailable",rt[je.GameUnapproved]="Label.GameUnavailablePlaceUnderReview",rt[je.IncorrectConfiguration]="Response.GameTemporarilyUnavailable",rt[je.UniverseRootPlaceIsPrivate]="Label.GameUnavailableCurrentlyIsPrivateVisitor",rt[je.InsufficientPermissionFriendsOnly]="Label.GameUnavailablePermissionLevels",rt[je.InsufficientPermissionGroupOnly]="Label.GameUnavailablePermissionLevels",rt[je.DeviceRestricted]="Response.GameTemporarilyUnavailable",rt[je.UnderReview]="Label.GameUnavailablePlaceUnderReview",rt[je.AccountRestricted]="Label.GameUnavailableAccountResrictions",rt[je.ComplianceBlocked]="Label.ComplianceBlocked",rt[je.ContextualPlayabilityRegionalAvailability]="Label.ContextualPlayabilityRegionalAvailability",rt[je.ContextualPlayabilityRegionalCompliance]="Label.ContextualPlayabilityRegionalCompliance",rt[je.ContextualPlayabilityAgeRecommendationParentalControls]="Label.ContextualPlayabilityAgeRecommendationParentalControls",rt[je.ContextualPlayabilityAgeGated]="Label.ContextualPlayabilityAgeGated",rt[je.PlaceHasNoPublishedVersion]="Label.GameUnavailableRootPlaceIsUnpublished",rt),playButtonTextTranslationMap:{ActionNeeded:"PlayButtonText.ActionNeeded"},eventStreamProperties:function(e,t){return{eventName:"playGameClicked",ctx:"click",properties:ke(ke({},t),{placeId:e}),gamePlayIntentEventCtx:"PlayButton"}},PlayabilityStatus:je,counterEvents:{ActionNeeded:"ActionNeededButtonShown",Unplayable:"UnplayableErrorShown",SeventeenPlusInPlayable:"ReachedSeventeenPlusCaseInPlayable",PlayButtonIXPError:"PlayButtonIXPIssueCaught",ActionNeededTreatment:"ActionNeededTreatmentShown"},avatarChatUpsellLayer:"Voice.AvatarChat.Upsell",avatarChatUpsellLayerU13:"Voice.AvatarChat.U13Upsell",playButtonLayer:"Website.PlayButton"},Be=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},Ne=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Me=function(n){function t(){return Be(void 0,void 0,void 0,function(){var t;return Ne(this,function(e){switch(e.label){case 0:o(void 0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Oe([n])];case 2:return t=e.sent(),o(t.playabilityStatus),[3,4];case 3:return e.sent(),o(je.TemporarilyUnavailable),[3,4];case 4:return[2]}})})}var e=(0,Ce.useState)(void 0),a=e[0],o=e[1];return(0,Ce.useEffect)(function(){t();function e(e){e.persisted&&t()}return window.addEventListener("pageshow",e),function(){window.removeEventListener("pageshow",e)}},[]),[a,t]},Fe=HeaderScripts,_e=function(){return(_e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},He=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},qe=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function We(e){if(!D.GameLauncher.isJoinAttemptIdEnabled())return{};var t=e.joinAttemptOrigin,e=e.joinAttemptId;return{joinAttemptId:e="string"==typeof e?e:u.uuidService.generateRandomUuid(),joinAttemptOrigin:t}}function Je(e,t){e=_e(_e({placeId:t},e),We(e));return Ae.eventStreamService.sendEventWithTarget("playGameClicked","click",e),e}function ze(e,t){void 0===t&&(t={});var n=D.EnvironmentUrls.websiteUrl+"/games/start?placeid="+e;return D.GameLauncher.isJoinAttemptIdEnabled()&&(t=(e=We(t)).joinAttemptId,e=e.joinAttemptOrigin,"string"==typeof t&&0<t.length&&(n+="&joinAttemptId="+t,"string"==typeof e&&0<e.length&&(n+="&joinAttemptOrigin="+e))),encodeURIComponent(n)}function Xe(e,t,n,a,o){void 0===o&&(o={});var r=Fe.deviceMeta.getDeviceMeta();null!=r&&r.isIosDevice||null!=r&&r.isAndroidDevice||Fe.jsClientDeviceIdentifier.isIos13Ipad||null!=r&&r.isChromeOs?(r=ze(e,Je(o,e)),window.open("https://ro.blox.com/Ebh5?pid=experiencestart_mobileweb&is_retargeting=false&af_dp="+r+"&af_web_dp="+r+"&deep_link_value="+r,"_self")):Ae.playGameService.launchGame(Ae.playGameService.buildPlayGameProperties(t,e,a,void 0,n),Ve.eventStreamProperties(e,o))}function Ke(e){var t=Fe.deviceMeta.getDeviceMeta();null!=t&&t.isIosDevice||null!=t&&t.isAndroidDevice||Fe.jsClientDeviceIdentifier.isIos13Ipad||null!=t&&t.isChromeOs?(t=ze(e,Je({},e)),window.open("https://ro.blox.com/Ebh5?pid=experiencestart_mobileweb&is_retargeting=false&af_dp="+t+"&af_web_dp="+t+"&deep_link_value="+t,"_self")):Ae.playGameService.launchGame(Ae.playGameService.buildPlayGameProperties(void 0,e.toString()),Ve.eventStreamProperties(e,{}))}function Ye(){return He(void 0,void 0,Promise,function(){return qe(this,function(e){try{return[2,D.IdentityVerificationService.startVerificationFlow()]}catch(e){return[2,[!1,!1]]}return[2]})})}function Qe(t,n){return He(void 0,void 0,Promise,function(){return qe(this,function(e){try{return[2,D.IdentityVerificationService.showVoiceOptInOverlay(t,n)]}catch(e){return[2,!1]}return[2]})})}function Ze(){return He(void 0,void 0,Promise,function(){return qe(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,D.AccessManagementUpsellService.showAccessManagementVerificationModal()];case 1:return[2,e.sent()];case 2:return e.sent(),[2,!1];case 3:return[2]}})})}function $e(e,t){try{var n=o().UrlParser.getParameterValueByName("shareLinkSourceType",!1);if("experiencedetails"!==(null==n?void 0:n.toLowerCase()))return;D.EventStream.SendEventWithTarget("shareLinkGameJoin","GamePlayButtonWeb",{placeId:e,universeId:t},D.EventStream.TargetTypes.WWW)}catch(e){}}function et(e){var t=e.universeId,n=e.placeId,a=e.rootPlaceId,o=e.privateServerLinkCode,r=e.gameInstanceId,i=e.status,l=void 0===(c=e.eventProperties)?{}:c,c=(e=(0,Ce.useState)(void 0))[0],s=e[1];return(0,Ce.useEffect)(function(){D.ExperimentationService.getAllValuesForLayer?D.ExperimentationService.getAllValuesForLayer(ut).then(function(e){s(!0===e.HasUpdatedPlayButtons)}).catch(function(){(0,ot.fireEvent)(st.PlayButtonIXPError),s(!1)}):s(!1)},[]),void 0===c?Se().createElement(tt.Loading,null):c?((0,ot.fireEvent)(st.ActionNeededTreatment),Se().createElement(dt,null)):Se().createElement(Et,{universeId:t,placeId:n,rootPlaceId:a,privateServerLinkCode:o,gameInstanceId:r,status:i,eventProperties:l})}var tt=ReactStyleGuide,nt=RobloxItemPurchase,e=ReactUtilities,at=RobloxThumbnails,ot=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},rt={common:["Common.VisitGame"],feature:"Feature.ExperienceDetails"},it=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},lt=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ct=Ve.playButtonTextTranslationMap,st=Ve.counterEvents,ut=Ve.playButtonLayer,dt=(0,e.withTranslations)(function(e){var t=e.translate,n=e.iconClassName,a=void 0===n?"icon-status-private-inverse":n,n=e.buttonWidth,n=void 0===n?tt.Button.widths.full:n,e=e.buttonClassName,e=void 0===e?"btn-common-play-game-action-needed-lg":e;return Se().createElement(tt.Button,{"data-testid":"play-action-needed-button",width:n,className:e,onClick:function(){return it(void 0,void 0,void 0,function(){return lt(this,function(e){switch(e.label){case 0:return[4,Ze()];case 1:return e.sent(),[2]}})})}},Se().createElement("span",{className:a}),Se().createElement("span",{className:"btn-text"},t(ct.ActionNeeded))," ")},rt),pt=function(){return(pt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mt=function(e,i,l,c){return new(l=l||Promise)(function(n,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},vt=function(n,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&t[0]?r.return:t[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,t[1])).done)return i;switch(r=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,r=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=a.call(n,l)}catch(e){t=[6,e],r=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},gt=(nt=(0,nt.createItemPurchase)())[0],ht=nt[1],ft=Ve.PlayabilityStatus,bt=Ve.playButtonStatusTranslationMap,yt=Ve.counterEvents,It=Ve.avatarChatUpsellLayer,wt=Ve.avatarChatUpsellLayerU13,Pt=(0,e.withTranslations)(function(e){var t=e.translate,n=e.universeId,a=e.placeId,o=e.iconClassName,r=void 0===o?"icon-robux-white":o,i=e.buttonWidth,l=void 0===i?tt.Button.widths.full:i,c=e.buttonClassName,s=void 0===c?"btn-common-play-game-lg":c,o=e.refetchPlayabilityStatus,i=(0,Ce.useState)(void 0),c=i[0],u=i[1],e=(0,Ce.useState)(void 0),i=e[0],d=e[1];return(0,Ce.useEffect)(function(){mt(void 0,void 0,void 0,function(){var t;return vt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,De([n])];case 1:return t=e.sent(),u(t),[3,3];case 2:return t=e.sent(),console.log(t),[3,3];case 3:return[2]}})}),mt(void 0,void 0,void 0,function(){var t;return vt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Ge([a])];case 1:return t=e.sent(),d(t),[3,3];case 2:return t=e.sent(),console.log(t),[3,3];case 3:return[2]}})})},[]),void 0===c||void 0===i?Se().createElement(tt.Loading,null):Se().createElement(Se().Fragment,null,Se().createElement(tt.Button,{"data-testid":"play-purchase-button",width:l,className:s,onClick:function(e){e.preventDefault(),e.stopPropagation(),ht.start()}},Se().createElement("span",{className:r}),Se().createElement("span",{className:"btn-text"},c.price)," "),Se().createElement(gt,pt({},{translate:t,productId:c.productId,expectedPrice:c.price,thumbnail:Se().createElement(at.Thumbnail2d,{type:at.ThumbnailTypes.gameIcon,size:at.DefaultThumbnailSize,targetId:parseInt(n,10),imgClassName:"game-card-thumb",format:at.ThumbnailFormat.jpeg}),assetName:i.name,assetType:"Place",sellerName:i.builder,expectedCurrency:1,expectedSellerId:c.sellerId,onPurchaseSuccess:o,isPlace:!0})))},rt),Et=function(e){var i=e.universeId,l=e.placeId,c=e.rootPlaceId,s=e.privateServerLinkCode,u=e.gameInstanceId,d=e.status,t=e.eventProperties,p=void 0===t?{}:t,n=e.iconClassName,a=void 0===n?"icon-common-play":n,o=e.buttonWidth,t=void 0===o?tt.Button.widths.full:o,n=e.buttonClassName,o=void 0===n?"btn-common-play-game-lg":n,n=e.disableLoadingState,e=void 0!==n&&n,n=(0,Ce.useState)(void 0),m=n[0],r=n[1],n=(0,Ce.useState)(void 0),v=n[0],g=n[1],n=(0,Ce.useState)(void 0),h=n[0],f=n[1],n=(0,Ce.useState)(void 0),b=n[0],y=n[1],n=(0,Ce.useState)(void 0),I=n[0],w=n[1],n=(0,Ce.useState)(void 0),P=n[0],E=n[1],n=(0,Ce.useState)(void 0),C=n[0],S=n[1],n=(0,Ce.useState)(void 0),A=n[0],L=n[1],n=(0,Ce.useState)(!1),T=n[0],x=n[1];return(0,Ce.useEffect)(function(){try{mt(void 0,void 0,Promise,function(){var t;return vt(this,function(e){switch(e.label){case 0:return[4,null===D.NavigationService||void 0===D.NavigationService?void 0:D.NavigationService.getIsVNGLandingRedirectEnabled()];case 1:return t=e.sent(),x(t),[2]}})})}catch(e){x(!1)}},[]),(0,Ce.useEffect)(function(){mt(void 0,void 0,void 0,function(){var t,n;return vt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(b=i,mt(void 0,void 0,Promise,function(){var t,n,a,o,r,i,l,c,s,u,d,p,m,v,g,h,f;return vt(this,function(e){switch(e.label){case 0:return t={isUniverseEnabledForVoice:!1,isUniverseEnabledForAvatarVideo:!1},Fe.authenticatedUser.isAuthenticated?[4,Re()]:[2,{elegibleToSeeVoiceUpsell:!1,universePlaceVoiceEnabledSettings:t,showAgeVerificationOverlay:!1,showVoiceOptInOverlay:!1,showAvatarVideoOptInOverlay:!1,requireExplicitVoiceConsent:!0,useCameraU13Design:!1,useVoiceUpsellV2Design:!1}];case 1:return c=e.sent(),n=c.playButtonOverlayWebFlag,a=c.voiceOptInWebFlag,o=c.cameraOptInWebFlag,r=c.cameraOptInWebFlagU13,i=c.requireExplicitVoiceConsent,l=c.useCameraU13Design,c=c.useVoiceUpsellV2Design,n||a||o?[4,Ue(b)]:[2,{elegibleToSeeVoiceUpsell:!1,universePlaceVoiceEnabledSettings:t,showAgeVerificationOverlay:!1,showVoiceOptInOverlay:!1,showAvatarVideoOptInOverlay:!1,requireExplicitVoiceConsent:i,useCameraU13Design:l,useVoiceUpsellV2Design:c}];case 2:return(g=e.sent(),s=g.showAgeVerificationOverlay,u=g.showVoiceOptInOverlay,d=g.showAvatarVideoOptInOverlay,p=g.elegibleToSeeVoiceUpsell,m=g.universePlaceVoiceEnabledSettings,g=v=!1,D.ExperimentationService.getAllValuesForLayer)?(h=Boolean,[4,D.ExperimentationService.getAllValuesForLayer(It)]):[3,5];case 3:return v=h.apply(void 0,[e.sent().ShouldShowUpsell]),f=Boolean,[4,D.ExperimentationService.getAllValuesForLayer(wt)];case 4:g=f.apply(void 0,[e.sent().ShouldShowUpsell]),e.label=5;case 5:return[2,{elegibleToSeeVoiceUpsell:p,universePlaceVoiceEnabledSettings:m,showAgeVerificationOverlay:n&&s,showVoiceOptInOverlay:a&&u,showAvatarVideoOptInOverlay:d&&(o&&v||r&&g),requireExplicitVoiceConsent:i,useCameraU13Design:l,useVoiceUpsellV2Design:c}]}})}))];case 1:return t=e.sent(),r(null!==(n=null===(n=t.universePlaceVoiceEnabledSettings)||void 0===n?void 0:n.isUniverseEnabledForVoice)&&void 0!==n&&n),f(t.elegibleToSeeVoiceUpsell),g(t.showAgeVerificationOverlay),y(t.showVoiceOptInOverlay),w(t.showAvatarVideoOptInOverlay),E(t.requireExplicitVoiceConsent),S(t.useCameraU13Design),L(t.useVoiceUpsellV2Design),[3,3];case 2:return t=e.sent(),console.error(t),f(!1),r(!1),g(!1),y(!1),w(!1),E(!0),S(!1),L(!1),[3,3];case 3:return[2]}var b})})},[]),void 0!==v||e?Se().createElement(Se().Fragment,null,Se().createElement(tt.Button,{"data-testid":"play-button",width:t,className:o,onClick:function(r){return mt(void 0,void 0,void 0,function(){var a,o;return vt(this,function(e){switch(e.label){case 0:return(r.preventDefault(),r.stopPropagation(),d!==ft.Playable)?[3,7]:(h&&m&&(a="SocialVoice.VoiceUpsell",D.ExperimentationService.getAllValuesForLayer(a).then(function(){D.ExperimentationService.logLayerExposure(a)}).catch(function(){return console.error("error logging exposure event in play-join")})),v?[4,Ye()]:[3,2]);case 1:return o=e.sent(),o[0],o[1]&&g(!1),[3,6];case 2:return b?[4,Qe(null==P||P,null!=A&&A)]:[3,4];case 3:return e.sent()&&y(!1),[3,6];case 4:return I?[4,(t=null==P||P,n=null==C||C,He(void 0,void 0,Promise,function(){return qe(this,function(e){try{return[2,D.IdentityVerificationService.showAvatarVideoOptInOverlay(t,n)]}catch(e){return[2,!1]}return[2]})}))]:[3,6];case 5:e.sent()&&w(!1),e.label=6;case 6:return $e(l,i),Xe(l,c,s,u,p),[3,10];case 7:return d!==ft.GuestProhibited?[3,8]:(T?null!==D.NavigationService&&void 0!==D.NavigationService&&D.NavigationService.navigateToLoginWithRedirect():Ke(l),[3,10]);case 8:return d!==ft.ContextualPlayabilityUnverifiedSeventeenPlusUser?[3,10]:((0,ot.fireEvent)(yt.SeventeenPlusInPlayable),[4,Ze()]);case 9:e.sent(),e.label=10;case 10:return[2]}var t,n})})}},Se().createElement("span",{className:a})),Se().createElement("div",{id:"id-verification-container"}),Se().createElement("div",{id:"access-management-upsell-container"})):Se().createElement(tt.Loading,null)},Ct=(0,e.withTranslations)(function(e){var t=e.translate,e=e.playabilityStatus;return Se().createElement("span",{"data-testid":"play-error",className:"error-message"},t(bt[e]))},rt),Me={usePlayabilityStatus:Me,PlayabilityStatuses:je,launchGame:Xe,launchLogin:Ke,DefaultPlayButton:function(e){var t=e.placeId,n=e.rootPlaceId,a=e.universeId,o=e.privateServerLinkCode,r=e.gameInstanceId,i=e.refetchPlayabilityStatus,l=e.playabilityStatus,e=e.eventProperties,c=void 0===e?{}:e;switch(l){case void 0:return Se().createElement(tt.Loading,null);case ft.Playable:case ft.GuestProhibited:return Se().createElement(Et,{universeId:a,placeId:t,rootPlaceId:n,privateServerLinkCode:o,gameInstanceId:r,status:l,eventProperties:c});case ft.ContextualPlayabilityUnverifiedSeventeenPlusUser:return(0,ot.fireEvent)(yt.ActionNeeded),Se().createElement(et,{universeId:a,placeId:t,rootPlaceId:n,privateServerLinkCode:o,gameInstanceId:r,status:l,eventProperties:c});case ft.PurchaseRequired:return Se().createElement(Pt,{refetchPlayabilityStatus:i,universeId:a,placeId:t});default:return(0,ot.fireEvent)(yt.Unplayable),Se().createElement(Ct,{playabilityStatus:l})}},PlayButton:Et,PurchaseButton:Pt,Error:Ct};window.Roblox||(window.Roblox={}),Object.assign(window.Roblox,{AuthenticationChecker:s,GameLauncher:N,GameLaunchLogger:Z,GamePlayEvents:H,PrerollPlayer:T,ProtocolHandlerClientInterface:Ee,VideoPreRollDFP:L,PlayButton:Me}),c()(document).ready(function(){$();var e=(0,D.DeviceMeta)();(e.isUWPApp||e.isUniversalApp)&&(e=c()("#PlaceLauncherStatusPanel"),i.isJoinAttemptIdEnabled="True"===(null!==(e=e.data("is-join-attempt-id-enabled"))&&void 0!==e?e:"False"),window.Roblox.AppHybridClientInterface=i,N.setGameLaunchInterface(i)),N.setGameLaunchLogger(Z)})}();
//# sourceMappingURL=https://js.rbxcdn.com/4cd12bc454d154ed6aec552199908ced-gameLaunch.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GameLaunch");